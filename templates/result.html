<!DOCTYPE html>
<html>

<head>
    <title>TripGuard - Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

    <div class="result-container">

        <h1>Journey Analysis</h1>
        <p class="route">{{ source }} â†’ {{ destination }}</p>
        <p class="date">{{ date }}</p>

        <!-- Risk Card -->
        <div class="risk-card">
            <h2>Risk Score</h2>
            <div class="risk-number">{{ risk_score }}</div>
            <div class="risk-level {{ risk_level|lower }}">
                {{ risk_level }}
            </div>
        </div>
        <!-- Risk Circular Analysis -->
        <div class="meter-wrapper">
            <div class="circular-meter" style="--value: {{ risk_score }};">
                <span>{{ risk_score }}</span>
            </div>
        </div>

        <!-- Weather Section -->
        <div class="weather-section">

            <div class="weather-card">
                <h3>{{ source }}</h3>
                <img src="http://openweathermap.org/img/wn/{{ source_weather.icon }}@2x.png">
                <p>ðŸŒ¡ {{ source_weather.temp }}Â°C</p>
                <p>{{ source_weather.condition }}</p>
            </div>

            <div class="weather-card">
                <h3>{{ destination }}</h3>
                <img src="http://openweathermap.org/img/wn/{{ destination_weather.icon }}@2x.png">
                <p>ðŸŒ¡ {{ destination_weather.temp }}Â°C</p>
                <p>{{ destination_weather.condition }}</p>
            </div>

        </div>
<div class="breakdown-card">
    <h3>Risk Breakdown</h3>

    <!-- Weather -->
    <div class="bar-item">
        <div class="bar-label">
            <span>Weather Risk</span>
            <span>{{ breakdown.weather }}</span>
        </div>
        <div class="bar-track">
            <div class="bar-fill 
                {% if breakdown.weather < 15 %}low-width
                {% elif breakdown.weather < 30 %}medium-width
                {% else %}high-width{% endif %}">
            </div>
        </div>
    </div>

    <!-- Route -->
    <div class="bar-item">
        <div class="bar-label">
            <span>Route Risk</span>
            <span>{{ breakdown.route }}</span>
        </div>
        <div class="bar-track">
            <div class="bar-fill 
                {% if breakdown.route < 15 %}low-width
                {% elif breakdown.route < 30 %}medium-width
                {% else %}high-width{% endif %}">
            </div>
        </div>
    </div>

    <!-- Season -->
    <div class="bar-item">
        <div class="bar-label">
            <span>Season Risk</span>
            <span>{{ breakdown.season }}</span>
        </div>
        <div class="bar-track">
            <div class="bar-fill 
                {% if breakdown.season < 15 %}low-width
                {% elif breakdown.season < 30 %}medium-width
                {% else %}high-width{% endif %}">
            </div>
        </div>
    </div>
</div>



        <!-- Recommendation -->
       <div class="recommendation">
    <h3>Recommendations</h3>

    {% if recommendations %}
        <ul>
            {% for rec in recommendations %}
                <li>{{ rec }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No specific recommendations. Travel conditions look stable.</p>
    {% endif %}
</div>


        <a href="/" class="back-btn">Analyze Another</a>

    </div>

</body>

</html>